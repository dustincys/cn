---
layout: post
category: else
title: 狼人杀游戏中的概率
matheq: yes
comments: yes
tags: [狼人杀, 概率]
share: yes
toc: no
---
以9个人参与的游戏为例，共有12张牌，各个牌的角色如下，

	狼人	4
	平民	3
	预言家	1
	女巫	1
	守卫	1
	丘比特	1
	盗贼	1

### 狼人恋概率

已知有丘比特，有4个狼人，丘比特一般情况下不愿意把自己链为情侣（己方势力太小，容易被一锅端），那么候选名单就是4个狼人和4个好人，人狼恋概率就是$$\frac{\mathrm{C}_4^1 * \mathrm{C}_4^1}{\mathrm{C}_8^2} = \frac{8}{14}$$，这时候狼狼恋和人人恋概率相等，都是$$(1-\frac{8}{14}) / 2$$。

类似地，如果有3只狼，人狼恋$$\frac{4}{7}$$，狼狼恋$$\frac{1}{7}$$，人人恋$$\frac{2}{7}$$。
总之不管怎么样，如果有情侣，人狼恋的概率一直很大。

### 三门经典概率

先说经典的[三门问题](http://baike.baidu.com/view/68669.htm?fromtitle=%E8%92%99%E6%8F%90%E9%9C%8D%E5%B0%94%E9%97%AE%E9%A2%98&fromid=10946045&type=syn "三门问题")，

> 一电视节目，有点类似开门大吉，舞台上有三个门A、B、C，其中有一个门后面是一台车，参赛的选手有两次选择的机会。
> 第一次选择一个门之后，假设是A门，主持人在剩余两个门中选一个门后没有车的门踹开，假设主持人踹开了B门。这时候，参赛选手有第二次选择的机会，如果选中，赢车。

很多人觉得这个时候，选择A或C两个门哪一个都可以，概率都是$$\frac{1}{2}$$。
实际上不是这样，参赛选手应该选择C门，C门的概率是$$\frac{2}{3}$$，而A门的概率一直是$$\frac{1}{3}$$。
B门和C门没有主持人提供额外信息之前，各是$$\frac{1}{3}$$，主持人提供额外信息之后，B门概率是0。

这是一个经典的贝叶斯实例（见前面博文[先验链之“Hello world!”](https://yanshuo.name/cn/2015/09/probability/ "先验链之“Hello world!”")），已知有三个门，那么C门后有车的概率的分布是点分布，分布概率如下

$$
\begin{align}
P(p(\text{C门有车}) = \frac{1}{3}) &= 1 \\
P(p(\text{C门有车}) \ne \frac{1}{3}) &= 0 \\
\end{align}
$$

主持人给出额外信息之后，根据贝叶斯经典的公式：

$$\begin{split}
P(x | D )& = \frac{P(x)\times P(D | x)}{P(D)}\\
& = \frac{P(x)\times P(D | x)}{\int_0^1P(x)\times P(D | x)dx}\\
\end{split}
$$

C门之后有车的概率分布更新，
$$
\begin{align}
&p(\text{C门有车} | \text{主持人一脚踹了B门}) \\
&= \frac{p(\text{C门有车}) * p(\text{B门没车}|\text{C门有车})}{\int_0^1 p(\text{C门有车}) * p(\text{B门没车}|\text{C门有车}) dp(\text{C门有车})} \\
&= \frac{\frac{1}{3} * 1}{\int_0^1 p dp} \\
&= \frac{\frac{1}{3} * 1}{\frac{1}{2}} \\
&= \frac{2}{3} \\
\end{align}
$$

在狼人杀游戏中，如果是盗贼宣布是两个平民，埋了一个平民，与踹了B门是一个道理。

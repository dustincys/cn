---
layout: post
category: technology
title: 规范的正确打开方式
matheq: yes
comments: yes
tags: [hithesis, 歧义, latex]
share: yes
toc: no
---
#### 之一，版芯歧义
继[前文][hithesishangjv]所述的[《本科毕业论文规范》][bachelorregulation]中的行距歧义，我
工规范又一次被小伙伴们发现了重大歧义。我工两大规范[^regulation]大部分都内容是一
致的，只有封面、目录格式等少数几处不同。关于版芯的规定，在[《研究生论文规范》
][masterregulation]中3.8节规定：

> 版芯为150mm×240mm±2mm（包括页眉、页码）。

但在3.4节规定：

> 在版芯上边线加粗、细双线（粗线在上，宽0.8mm），双线上居中打印页眉。

且在2.2节规定：

> 页码在版芯下边线之下居中放置；

这到底是包括页眉页码还是不包括页眉页码呢？
细心的刀客会发现一处线索，在3.8节中紧接着版芯规定，有行数规定：

> 版芯为150mm×240mm±2mm（包括页眉、页码）。每页约33行。……　正文行距3~4mm。

按照[旧模板][plutothesis]的设置方法，模板中页眉、页码加正文中长度之和为240mm。正
文长度224mm。这样按照最小行距3mm加上小四12bp字号，正文中的行数能排下31行。但问题
是这个行数包不包括页眉页码呢？如果包括页眉页码，满足33行行数要求。但据小伙们反应
，大部分评审老师认为这个33行行数要求是只计算正文。如果在正文中排下33行，240mm恰
好可以。但如果只计算正文那么无论如何224mm也摆不下33行。到底哪一种假设是正确？扑
朔迷离[^banxin]。

> 2018-06-29 补充：由于符合规范第一种解释，即版芯包括页眉页脚无法满足33行且3mm
> 行距要求，且这个行距极容易被挑出毛病，现在有三种可行方案：
> 1. 使用第二种解释，33行，3mm但极丑（[hithesis] >= 2.0.0, newgeometry=one）。
> 2. 在1的基础上修改页眉页脚位置，漂亮，但不符合规范（[hithesis] >= 2.0.0,
>    newgeometry=two）。
> 3. 缩小行距到19bp左右，这样不满足3mm最小行距，但不会被挑出毛病（由于这种方法
>    明显违反规范，故模板不给出这种方法的设置）。


#### 之二，标题间距的推理
还是[前文][hithesishangjv]中提到的章节标题行距问题。但这次不是[《本科毕业论文规
范》][bachelorregulation]，这次是[《研究生论文规范》][masterregulation]，3.2节规
定：

> 章标题 小2号字，建议段前1行，段后0.8行；……　正文　小4号字，建议段前0行，段后0行。

这里段前一行是标题之上还是标题之下？如果理解为标题在正文的段落之前，那么段前应该
是标题之下空一行。 还有这个段前空一行，是正文的一行还是章标题的一行？这两个距离不一样。如果按照word中习惯，
空一行是空的章标题的一行且在标题之上[^chapterskip]。还有一个问题是，空一行是只空一行字，还是
空一行字加上间距？如果空的只是一行字那么正文中段落之间就紧密相连了。不符合常理。
根据规范3.8中的规定：

> 章标题上、下行距10mm

那么章标题的段前空一行应该包括了章标题的字号12bp+10mm，这个空白很大，但根据以上
推理，应该就是规范所要求的。

#### 之三，标题间距组成是一个迷

标题的间距的组成是一个迷，这个迷似乎无解。一个根本原因是，在word中，行间距设置
成把一行字体放在中间，上下都有一小块空白。这中方式就会出现很多怪异的行为，例如
，如果打开word，在空白页面中，输入一个标题，设置段前空一行，此时这行字的上方的
空白是一行字加上行间距。现在用数学符号来说明比较清晰，如果行间距为$$a$$行中字高
为$$b$$，那么此时字之上的空白是$$a+b$$。然而，同样的格式，如果先输入一行字，在
第二行设置标题，然后在把这行字删除，然后再设置段前空一行，此时字之上空白变成了
$$b$$。

在word中，如果标题的字大小和行间距为$$a_1$$和$$b_1$$，正文中字大小和行间距为
$$a_2$$和$$b_2$$，标题之下如果是正文，那么中间的空白是$$(b_1 + b_2) / 2$$。假如
标题之下是下一级标题，其字号和行间距为$$a_3$$和$$b_3$$，空白就会变成$$(b_1 +
b_3) / 2$$。

以上说明，我工规范不给出确切距离，而只给出word习惯的“空1行”，那么这个空白大小就
是一个多可能且随机出现的值。所以上一个问题中给出的12bp+10mm只有可能是其中一个值
，且，这个空 白值过大，不符合常规审美。另外，规定给出的标题的行间距过于大在标题
大于两行时这 个空白距离过于突兀。

现在跳出谜团，看看word模板和[PlutoThesis][plutothesis]流行了这么多年，是如何通
过评审老师的法眼呢？秘诀就是行间距不要符合规范，因为符合规范无法做到33行数要求
，且标题上下空白过大。


[^regulation]: 规范是指[《哈尔滨工业大学研究生学位论文撰写规范》][masterregulation]和[《哈尔滨工业大学本科生毕业论文撰写规范》][bachelorregulation]
[^chapterskip]: [hithesis][hithesis]中的设置方法与word习惯一致，空章标题格式的一行，段前为标题之上，一行为字号+行间距。
[^banxin]: 为了规格严格、功夫到家，[hithesis][hithesis]给出两种版芯设置。

[bachelorregulation]: https://jwc.hit.edu.cn/2566/list.htm
[masterregulation]: https://hitgs.hit.edu.cn/aa/fd/c3425a109309/page.htm
[hithesishangjv]: https://dustincys.github.io/cn/2017/06/hithesissiyuan/
[plutothesis]: https://github.com/dustincys/PlutoThesis
[hithesis]: https://github.com/dustincys/hithesis
